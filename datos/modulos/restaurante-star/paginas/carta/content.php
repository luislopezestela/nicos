<style type="text/css">
body{min-height: calc(100vh - 76px);
background-color: #F0F2FD;
  background-image: radial-gradient(rgba(12, 12, 12, 0.04) 2px, transparent 0);
  background-size: 30px 30px;
  background-position: -5px -5px;
}
.titulo_carta_layshane_peru{
  user-select:none;
  font-size:min(max(10cqi, 8vw), 3rem);
  text-transform: uppercase;
  line-height:1;
  text-align: center;
  background: linear-gradient(90deg, rgba(186,148,62,1) 0%, rgba(236,172,32,1) 20%, rgba(186,148,62,1) 39%, rgba(249,244,180,1) 50%, rgba(186,148,62,1) 60%, rgba(236,172,32,1) 80%, rgba(186,148,62,1) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;	
  animation: shine 3s infinite;
  background-size: 200%;
  background-position: left;
  margin:30px auto;
}
@keyframes shine {
  to{background-position:right}
 
}
</style>
<br>
<div class="titulo_carta_layshane_peru">NUESTRA CARTA</div>
<hr>

<style type="text/css">
.wo_settings_page{background:transparent!important;border:0;box-shadow:none;display:flex;flex-wrap:wrap;}
.wo_my_products a{background:#fff;display:block;border-radius:2px;box-shadow:0 1px 2px rgba(0,0,0,0.2);user-select:none;}
.wo_my_products .avatar img, .wo_sidebar_products .avatar img{width:100%;vertical-align:middle;}
.wo_my_products .produc_info, .wo_sidebar_products .produc_info{padding:7px 10px;word-break:break-word;display:flex;flex-wrap:wrap;align-content:space-between;}
.wo_my_products .produc_info span, .wo_sidebar_products .produc_info span{font-size:20px;display:block;word-break:break-all;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:break-word;font-weight:bold;}
.wo_my_products .produc_info p, .wo_sidebar_products .produc_info p {padding:10px 0;
    font-size:1rem;
    display: block;
}
.wo_my_products .produc_info h4, .wo_sidebar_products .produc_info h4{font-size:26px;color:#4CAF50;font-weight:700;letter-spacing:.3px;margin:7px 0 0;display:block;word-break:break-all;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;}
.Btn_dorado{display:flex!important;}
.informations_item{width:100%;}
.buttons_prod_item{width:100%;display:flex;justify-content:space-between;}
</style>


<style type="text/css">
.carousel{width:100%;}
.carousel h2 {
  margin: 0;
}
.carousel a {
  text-decoration: none;
  color: #fff;
}
.carousel .carousel__wrapper .carousel__content .carousel__item a img {
  aspect-ratio: 1/1;
  width: 100%;
  height: 100%;
  object-fit: cover;
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
  margin-bottom: 16px;
  border-radius: clamp(0px, ((100vw - 4px) - 100%) * 9999, 4px);
}
.carousel h3 {
  font-size:25px;
  width:100%;
  display:flex;
  justify-content:center;
  background: linear-gradient(180deg, rgb(0 0 0 / 0%) 0%, rgb(0 0 0 / 39%) 35%, rgb(0 0 0 / 57%) 75%, rgb(0 0 0 / 63%) 100%);
  padding: 10px 3px;
  align-items: flex-end;
  padding:10px 3px;padding-bottom:20px;
  text-align:center;
}
.carousel .dragging a {
  user-select: none;
}
.carousel .carousel__wrapper {
  position: relative;
  margin-bottom: 24px;
}

@media only screen and (min-width: 1180px) {
  .carousel .carousel__wrapper.has-arrows .carousel__arrows {
    display: flex;
  }
}
.carousel .carousel__header {
  display: grid;
  grid-auto-flow: column;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}
.carousel .carousel__content {
  display: flex;
  flex-wrap:wrap;
  grid-gap:24px;
  list-style: none;
  padding:20px 10px;
}
.carousel .carousel__content::-webkit-scrollbar {
  display: none;
}

.carousel .carousel__item{
  aspect-ratio: 1/1;
  flex:0 0 auto;
  display:inline-flex;
  width:calc(100% / 3 - 1.02rem);
  height:100%;
  max-height:270px;
  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.123);
    border-radius: 20px;
    background: rgb(245, 245, 245);
    overflow:hidden;
}


.carousel .carousel__item .carousel__description{width:100%;position:absolute;bottom:0;display:flex;top:50%;}
.carousel .carousel__item a {
  position: relative;
  user-select: none;
  width:100%;
  cursor: pointer;
  overflow:hidden;
  
}
.carousel .carousel__controls {
  display: grid;
  grid-auto-flow: column;
  grid-gap: 24px;
}
.carousel .carousel__arrow{padding:0;background:transparent;box-shadow:none;border:0;}
.load-produts .load-more button{width:auto}
.contenido_carta_pedidos{margin:auto;float:initial!important;position:relative;word-wrap:break-word;margin:auto;max-width:1600px;}
.contenido_carta_productos{display:flex;width:100%;flex-wrap:wrap;justify-content:center;}
.box_layshane_conten_items{width:100%;}
.my_products{width:100%;max-width:100%;}
.productos_en_listas {
    display: grid;
    position: relative;
    flex-wrap: wrap;
    width: 100%;
    gap: 1em;
    max-width: 100%;
    grid-template-columns: repeat(auto-fit, minmax(min(30rem, 100%), 1fr));
    margin-bottom:30px;
    align-items: stretch;
}
.productos_en_listas .product{display:grid;width:100%;align-items:stretch;}
.productos_en_listas .product a{display:flex;width:100%;max-width:100%;position:relative;}
.productos_en_listas .imagen_productos{width:35%;height:100%;max-height:100%;display:inline-flex;}
.productos_en_listas .produc_info{width:65%;}
.productos_en_listas .imagen_productos img{aspect-ratio: 1/1;flex:0 0 auto;width:100%;height:100%;object-fit:cover;}
.contenido_carta_productos .load-produts .load-more button{height:auto;white-space:pre-wrap;}


@media only screen and (max-width: 1200px) {
  .productos_en_listas{width:calc(100% / 1 - 0rem);grid-template-columns: repeat(auto-fit, minmax(100%, 1fr));}
  .productos_en_listas .imagen_productos{width:25%;}
  .productos_en_listas .produc_info{width:75%;}
}
@media only screen and (max-width: 1100px) {
  .carousel .carousel__item{width:calc(100% / 2 - 0.75rem);}
}
@media only screen and (max-width: 650px) {
  .carousel .carousel__item{width:calc(100% / 1 - 0rem);}
}
@media only screen and (max-width: 500px) {
  .productos_en_listas .product{display:block;}
  .productos_en_listas .product a{
    flex-wrap:wrap;
  }
  .productos_en_listas .imagen_productos{width:100%}
  .productos_en_listas .produc_info{width:100%;}
  .productos_en_listas{
    grid-template-columns: repeat(auto-fit, minmax(min(40rem, 100%), 1fr));
  }
}

@media only screen and (min-width: 1400px) {
  .productos_en_listas{
    grid-template-columns: repeat(auto-fit, minmax(min(35rem, 100%), 1fr));
  }
}
@media only screen and (min-width: 1600px) {
  .productos_en_listas{
    grid-template-columns: repeat(auto-fit, minmax(min(40rem, 100%), 1fr));
  }
}
</style>
  <?php $category_id = (!empty($_GET['c_id'])) ? (int) $_GET['c_id'] : 0;
  $category_sub_id = (!empty($_GET['sub_id'])) ? (int) $_GET['sub_id'] : 0;
  $nombre_de_categoria_seleccionado = false;
  $subcategorias_nombre_name=false; ?>
<div class="sett_page wo_new_sett_pagee contenido_carta_pedidos">
  <br>
  <div class="wo_settings_page">
          <?php foreach ($wo['products_categories'] as $nombrecategorias):
            $all_nombrecategorias = $category_id == $nombrecategorias['id'];?>
            <?php if($all_nombrecategorias): ?>
              <?php $nombre_de_categoria_seleccionado = $wo["lang"][$nombrecategorias["lang_key"]]; ?>
            <?php endif ?>
          <?php endforeach ?>

          <?php if(!empty($_GET['c_id']) && !empty($wo['products_sub_categories'][$_GET['c_id']])): ?>
            <?php foreach ($wo['products_sub_categories'][$_GET['c_id']] as $key => $nombre_sub_categorias):
              $all_nombrecategorias = $category_sub_id == $nombre_sub_categorias['id'];?>
              <?php if($all_nombrecategorias): ?>
                <?php $subcategorias_nombre_name = $wo["lang"][$nombre_sub_categorias["lang_key"]]; ?>
              <?php endif ?>
            <?php endforeach ?>
          <?php endif ?>
          <div class="carousel">
            <div class="carousel__wrapper">
                <ul class="carousel__content">
                  <?php if($category_id==0): ?>
                    <?php foreach ($wo['products_categories'] as $category){
                      $cat_id_produc = $category['id'];
                    $cat_nombre_produc = $wo["lang"][$category["lang_key"]];
                    $cat_logo_produc = $category['logo'];
                    $all_categorie = $category_id == $cat_id_produc;
                    $active = ($category_id == $cat_id_produc) ? 'active not_seen_story' : '';?>
                      <?php if($cat_id_produc==0): ?>
                      <?php else: ?>
                        <li class="carousel__item <?php echo $active?>">
                          <a href="<?php echo lui_SeoLink('index.php?link1=carta&c_id='.$cat_id_produc);?>" data-ajax="?link1=carta&c_id=<?=$cat_id_produc?>"><img class="carousel__item__image" src="<?php echo($cat_logo_produc) ?>" alt="<?php echo $cat_nombre_produc;?>"/>
                            <div class="carousel__description">
                              <h3 class="carousel__title"><?php echo $cat_nombre_produc;?></h3>
                            </div>
                          </a>
                        </li>
                      <?php endif ?>
                    <?php } ?>
                  <?php else: $subcat_name = false;?>
                    <?php foreach ($wo['products_categories'] as $category){
                      $cat_id_produc = $category['id'];
                      $all_categorie = $category_id == $cat_id_produc;
                      $active = ($category_id == $cat_id_produc) ? 'active not_seen_story' : '';?>
                      <?php $cat_logo_produc = $category['logo'];
                      $cat_nombre_producs = $wo["lang"][$category["lang_key"]];?>
                      <?php if(!empty($wo['products_sub_categories'][$_GET['c_id']])): if($all_categorie){ ?>
                        <?php if(!empty($_GET['sub_id'])): ?>
                          <style type="text/css">.carousel .carousel__content{padding:20px 0!important;}</style>
                          <li class="carousel__item <?php echo $active?>" style="width:100%;height:auto;aspect-ratio:auto;">
                            <a style="color:#444;" href="<?php echo lui_SeoLink('index.php?link1=carta&c_id='.$cat_id_produc);?>" data-ajax="?link1=carta&c_id=<?=$cat_id_produc?>"><svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 512 512" style="padding:10px;max-width:80px;margin-left:10px;" fill="#2097ef"><path d="M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"/></svg>
                              <span><?=$subcategorias_nombre_name;?></span>
                            </a>
                          </li>
                        <?php else: ?>
                          <style type="text/css">.carousel .carousel__content{padding:20px 0!important;}</style>
                          <li class="carousel__item <?php echo $active?>" style="width:100%;height:auto;aspect-ratio:auto;">
                            <a style="color:#444;" href="<?php echo lui_SeoLink('index.php?link1=carta');?>" data-ajax="?link1=carta"><svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 512 512" style="padding:10px;max-width:80px;margin-left:10px;" fill="#2097ef"><path d="M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"/></svg>
                              <?=$cat_nombre_producs; ?>
                            </a>
                          </li>
                        <?php endif ?>
                      <?php } ?>
                      <?php else: $selec_categories = $category_id == $cat_id_produc;?>
                        <?php if(!$cat_id_produc==0){ ?>
                          <?php if($selec_categories): ?>
                            <style type="text/css">.carousel .carousel__content{padding:20px 0!important;}</style>
                            <li class="carousel__item <?php echo $active?>" style="width:100%;height:auto;aspect-ratio:auto;">
                              <a style="color:#444;" href="<?php echo lui_SeoLink('index.php?link1=carta');?>" data-ajax="?link1=carta"><svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 512 512" style="padding:10px;max-width:80px;margin-left:10px;" fill="#2097ef"><path d="M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM271 135c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-87 87 87 87c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L167 273c-9.4-9.4-9.4-24.6 0-33.9L271 135z"/></svg>
                                <?=$cat_nombre_producs; ?>
                              </a>
                            </li>
                          <?php endif ?>
                        <?php } ?>
                      <?php endif ?>
                    <?php } ?>
                    <?php if(!empty($_GET['c_id']) && !empty($wo['products_sub_categories'][$_GET['c_id']])){
                      $category_id = (!empty($_GET['sub_id'])) ? (int) $_GET['sub_id'] : 0;
                      foreach ($wo['products_sub_categories'][$_GET['c_id']] as $key => $categoryb) {
                        $cat_logo_producs = $categoryb['logo'];
                        $active = ($category_id == $categoryb['id']) ? 'active products_seleccionado_cat' : '';?>
                        <?php if($category_id):?>
                          <?php $subcat_name =  $categoryb['lang'];?>
                          <?php if($category_id == $categoryb['id']):?>
                            <!--productos de sub categorias-->
                          <?php endif ?>
                        <?php else: ?>
                          <li id="divsubcats<?php echo($categoryb['id']) ?>" class="carousel__item <?php echo $active?>" data_prodect_cat_id="<?php echo($categoryb['id']) ?>">
                            <a href="<?php echo lui_SeoLink('index.php?link1=carta&c_id='.$_GET['c_id'].'&sub_id='.$categoryb['id']);?>" data-ajax="<?='?link1=carta&c_id='.$_GET['c_id'].'&sub_id='.$categoryb['id'];?>">
                              <img class="carousel__item__image" src="<?php echo($cat_logo_producs) ?>" alt="<?php echo $categoryb['lang'];?>"/>
                              <div class="carousel__description">
                                <h3 class="carousel__title"><?php echo $categoryb['lang'];?></h3>
                              </div>
                            </a>
                          </li>
                        <?php endif ?>
                      <?php } ?>
                    <?php } ?>
                  <?php endif ?>
                </ul>
              
            </div>
          </div>
        <?php          
          $category_name = '';
          $data = array();
          if (!empty($_GET['c_id'])) {

            if (is_numeric($_GET['c_id'])) {
              if (array_key_exists($_GET['c_id'], $wo['products_categories'])) {
                ?>
                <input type="hidden" value="<?php echo lui_Secure($_GET['c_id']); ?>" id="c_id" />
                <?php
                $category_name = $wo['products_categories'][$_GET['c_id']];
                $data['c_id'] = lui_Secure($_GET['c_id']);
              }
            }

            if (!empty($wo['products_sub_categories'][$_GET['c_id']]) && !empty($_GET['sub_id'])) {
              foreach ($wo['products_sub_categories'][$_GET['c_id']] as $key => $value) {
                if ($_GET['sub_id'] == $value['id']) { ?>
                  <input type="hidden" value="<?php echo lui_Secure($_GET['sub_id']); ?>" id="sub_id" />
                  <?php
                  $data['sub_id'] = lui_Secure($value['id']);
                  break;
                }
              }
            }
          } else {
            $data['c_id'] = 0;
            echo '<input type="hidden" value="0" id="c_id" />';
            echo '<input type="hidden" value="" id="sub_id" />';
          }
          ?>
          <div class="contenido_carta_productos">
            <?php if(!$data['c_id']==0):
              $categoryds_id = (!empty($_GET['sub_id'])) ? (int) $_GET['sub_id'] : 0;?>
              <?php if(!empty($wo['products_sub_categories'][$_GET['c_id']])): ?>
              <?php else: ?>
                <div class="my_products">
                  <?php
                  $data['limit'] = 10;
                  $products = lui_GetProducts($data);
                  ?>
                  <div id="products" class="productos_en_listas">
                  <?php
                  if (count($products) > 0) {
                    foreach ($products as $wo['product']) {
                      echo lui_LoadPage('carta/lista_productos_carta');
                    }
                  } else {
                    echo '<h5 class="search-filter-center-text empty_state"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg> ' . $wo['lang']['no_available_products'] . '</h5>';
                  }?>
                  </div>
                </div>

                <div class="posts_load load-produts">
                  <?php if (count($products) > 0): ?>
                    <div class="load-more">
                        <button class="btn btn-default text-center pointer" onclick="Wo_LoadProducts();"><?php echo $wo['lang']['load_more_products'] ?></button>
                    </div>
                  <?php endif ?>
                </div>
                <div class="clear"></div>
              <?php endif ?>

              <?php if($categoryds_id): ?>
                <div class="my_products">
                  <?php
                  $data['limit'] = 10;
                  $products = lui_GetProducts($data);
                  ?>
                  <div id="products" class="productos_en_listas">
                  <?php
                  if (count($products) > 0) {
                    foreach ($products as $wo['product']) {
                      echo lui_LoadPage('carta/lista_productos_carta');
                    }
                  } else {
                    echo '<h5 class="search-filter-center-text empty_state"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg> ' . $wo['lang']['no_available_products'] . '</h5>';
                  }?>
                  </div>
                </div>

                <div class="posts_load load-produts box_layshane_conten_items">
                  <?php if (count($products) > 0): ?>
                    <div class="load-more">
                        <button class="btn btn-default text-center pointer" onclick="Wo_LoadProducts();"><?php echo $wo['lang']['load_more_products'] ?></button>
                    </div>
                  <?php endif ?>
                </div>
                <div class="clear"></div>
              <?php endif ?>
            <?php endif ?>
          </div>
  </div>
  <!-- .row -->
</div>

<script type="text/javascript">
function Wo_LoadProducts() {
  $('.load-produts').html('<div class="white-loading list-group"><div class="cs-loader"><div class="cs-loader-inner"><label> ●</label><label> ●</label><label> ●</label><label> ●</label><label> ●</label><label> ●</label></div></div></div>');
  var $c_id = $('#c_id').val();
  var sub_id = $('#sub_id').val();
  var $last_id = $('.product:last').attr('data-id');
  var length = $('#cusrange-reader').val();
  $.post(Wo_Ajax_Requests_File() + '?f=load_more_carta', {last_id: $last_id, c_id:$c_id, sub_id:sub_id, length: length}, function (data) {
    if (data.status == 200) {
      if (data.html.length > 0) {
        $('.load-produts').html('<div class="load-more"><button class="btn btn-default text-center pointer" onclick="Wo_LoadProducts();"><i class="fa fa-arrow-down progress-icon" data-icon="arrow-down"></i> <?php echo $wo['lang']['load_more_products'] ?></button></div>');
        $('#products').append(data.html);
      } else {
        $('.load-produts').html('<div class="load-more"><button class="btn btn-default text-center pointer" onclick="Wo_LoadProducts();"><?php echo $wo['lang']['no_available_products'] ?></button></div>');
      }
    }
  });
}
</script>